webpackJsonp([24,30],{2:function(e,t){"use strict";function i(e,t){for(var t=t-(e+"").length,i=0;i<t;i++)e="0"+e;return e}Object.defineProperty(t,"__esModule",{value:!0});var r=/([yMdhsm])(\1*)/g,o="yyyy-MM-dd";t.default={getQueryStringByName:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t),r="";return null!=i&&(r=i[2]),t=null,i=null,null==r||""==r||"undefined"==r?"":r},formatDate:{format:function(e,t){return t=t||o,t.replace(r,function(t){switch(t.charAt(0)){case"y":return i(e.getFullYear(),t.length);case"M":return i(e.getMonth()+1,t.length);case"d":return i(e.getDate(),t.length);case"w":return e.getDay()+1;case"h":return i(e.getHours(),t.length);case"m":return i(e.getMinutes(),t.length);case"s":return i(e.getSeconds(),t.length)}})},parse:function(e,t){var i=t.match(r),o=e.match(/(\d)+/g);if(i.length==o.length){for(var a=new Date(1970,0,1),n=0;n<i.length;n++){var l=parseInt(o[n]),s=i[n];switch(s.charAt(0)){case"y":a.setFullYear(l);break;case"M":a.setMonth(l-1);break;case"d":a.setDate(l);break;case"h":a.setHours(l);break;case"m":a.setMinutes(l);break;case"s":a.setSeconds(l)}}return a}return null}}}},259:function(e,t,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(2),a=(r(o),i(7)),n=r(a),l=i(3),s=r(l),d=i(8),u=r(d);t.default={data:function(){return{data2:[],defaultProps:{children:"son",label:"name"},dynamicTags:[],inputVisible:!1,inputValue:"",filters:{name:"",code:"",page:1,status:"",is_sell:""},preData:{brand:[],retail_nuit:[],supplier:[],valuation:[],type:[]},activeName:"10",options:[],option:[],users:[],total:0,page:1,pagesize:1,listLoading:!1,editFormVisible:!1,editFormTtile:"编辑",shopdetailVisible:!1,shopdetailtitle:"店铺详情",shopdetailobj:{},pick:"已上架 0",notpick:"未上架 0",editForm:{id:0,name:"",display:"",pid:"0",module:"",formation:"",url:"",controller:"",action:"",displayorder:"",status:"",level:""},editLoading:!1,btnEditText:"提 交",editFormRules:{name:[],code:[{required:!0,message:"请输入国际条形码",trigger:"blur"}],production_origin:[{required:!0,message:"请输入生成产地",trigger:"blur"}],manufacturer:[{required:!0,message:"请输入生成厂家",trigger:"blur"}],valuation_id:[{required:!0,message:"请输入计价方式",trigger:"blur"}],retail_unit_id:[{required:!0,message:"请输入零售单位",trigger:"blur"}],goods_type_id:[{required:!0,message:"请输入分类",trigger:"blur"}],goods_brand_id:[{required:!0,message:"请输入商品品牌",trigger:"blur"}],supplier_id:[{required:!0,message:"请输入供货商",trigger:"blur"}],buying_price:[{required:!0,message:"请输入进货价",trigger:"blur"}],trade_price:[{required:!0,message:"请输入批发价",trigger:"blur"}],retail_price:[{required:!0,message:"请输入零售价",trigger:"blur"}],num:[{required:!0,message:"请输入num",trigger:"blur"}],is_rebate:[{required:!0,message:"请选择是否分润",trigger:"blur"}],market_price:[{required:!0,message:"请输入市场价",trigger:"blur"}]},multipleSelection:[]}},methods:{formatSex:function(e,t){return 1==e.is_sell?"已上架":0==e.is_sell?"未上架":"未知"},append:function(e,t){console.log(t),this.editFormVisible=!0,this.editFormTtile="新增"+t.name+"下的权限";for(var i in this.editForm)this.editForm[i]="";this.editForm.id=0,this.editForm.pid=t.id},remove:function(e,t){var i=this,r=this;this.$confirm("确认删除该记录吗?","提示",{}).then(function(){r.listLoading=!0,n.default.start();({id:t.id});s.default.post(u.default.api.author.authordelete,{id:t.id}).then(function(o){r.listLoading=!1,n.default.done();var a=o.message,l=o.code;200!==l?i.$notify({title:"错误",message:a,type:"error"}):(r.$notify({title:"成功",message:"删除成功",type:"success"}),e.remove(t))})}).catch(function(){})},renderContent:function(e,t){var i=this,r=t.node,o=t.data,a=t.store;return e("span",null,[e("span",null,[e("span",null,[r.label])]),e("span",{style:"float: right; margin-right: 20px"},[e("el-button",{attrs:{size:"mini"},on:{click:function(){return i.append(a,o)}}},["添加"]),e("el-button",{attrs:{size:"mini"},on:{click:function(){return i.handleEdit(a,o)}}},["编辑"]),e("el-button",{attrs:{size:"mini"},on:{click:function(){return i.remove(a,o)}}},["删除"])])])},getUsers:function(){var e=this;({page:this.page,code:this.filters.code,name:this.filters.name});this.listLoading=!0,n.default.start(),s.default.get(u.default.api.author.authorlist).then(function(t){e.listLoading=!1,n.default.done();var i=t.message,r=t.code,o=t.data;200!==r?e.$notify({title:"错误",message:i,type:"error"}):e.users=e.data2=o.cnt})},handleDel:function(e,t){var i=this;this.$confirm("确认删除该记录吗?","提示",{}).then(function(){i.listLoading=!0,n.default.start();var t={id:e.id};removeUser(t).then(function(e){i.listLoading=!1,n.default.done(),i.$notify({title:"成功",message:"删除成功",type:"success"}),i.getUsers()})}).catch(function(){})},handleEdit:function(e,t){console.log(t.id);var i=null;console.log(this.users),this.users.forEach(function(e){return e.id==t.id?void(i=e):void(e.son&&e.son instanceof Array&&e.son.forEach(function(e){if(e.id==t.id)return void(i=e)}))}),this.editFormVisible=!0,this.editFormTtile="编辑";for(var r in this.editForm)this.editForm[r]=i[r]+""},editSubmit:function(){var e=this,t=this;t.$refs.editForm.validate(function(i){if(i){var r=[];e.dynamicTags.forEach(function(e){r.push({name:e})}),t.$confirm("确认提交吗？","提示",{}).then(function(){if(t.editLoading=!0,n.default.start(),t.btnEditText="提交中",t.editForm.id){var i=t.editForm;s.default.post(u.default.api.author.authoredit,i).then(function(i){var r=i.message,o=i.code;i.data;t.editLoading=!1,n.default.done(),t.btnEditText="提 交",200!==o?e.$notify({title:"错误",message:r,type:"error"}):(t.$notify({title:"成功",message:"更新成功",type:"success"}),t.editFormVisible=!1,t.getUsers())})}else{var r=t.editForm;delete r.id,s.default.post(u.default.api.author.authoradd,r).then(function(i){var r=i.message,o=i.code;i.data;t.editLoading=!1,n.default.done(),t.btnEditText="提 交",200!==o?e.$notify({title:"错误",message:r,type:"error"}):(t.$notify({title:"成功",message:"提交成功",type:"success"}),t.editFormVisible=!1,t.getUsers())})}})}})},handleAdd:function(){this.editFormVisible=!0,this.editFormTtile="新增";for(var e in this.editForm)this.editForm[e]="";this.option=[],this.editForm.id=0,this.editForm.pid=0},toggleGoodsStatus:function(e){var t=this;e="0"==e?1:0;var i=[];this.multipleSelection.forEach(function(e){i.push(e.id)});var r={sell:e,ids:i.join(",")};this.toogleLoading=!0,n.default.start(),s.default.post(u.default.api.goods.goodstooglestatus,r).then(function(e){t.toogleLoading=!1,n.default.done();var i=e.message,r=e.code;e.data;200!==r?t.$notify({title:"错误",message:i,type:"error"}):(console.log(e),t.$notify({title:"成功",message:i,type:"success"}),t.getUsers())})}},mounted:function(){this.getUsers()}}},501:function(e,t,i){t=e.exports=i(11)(),t.push([e.id,'.el-card__header[data-v-42dce727]{background-color:#e4e4e4}.clearfix[data-v-42dce727]:after,.clearfix[data-v-42dce727]:before{display:table;content:""}.clearfix[data-v-42dce727]:after{clear:both}',"",{version:3,sources:["F:/zhb/single/yx/src/pages/origination/menu.vue"],names:[],mappings:"AACA,kCACI,wBAAyB,CAC5B,AACD,mEAEI,cAAe,AACf,UAAY,CACf,AACD,iCACI,UAAW,CACd",file:"menu.vue",sourcesContent:['\n.el-card__header[data-v-42dce727] {\r\n    background-color: #E4E4E4\n}\n.clearfix[data-v-42dce727]:before,\r\n.clearfix[data-v-42dce727]:after {\r\n    display: table;\r\n    content: "";\n}\n.clearfix[data-v-42dce727]:after {\r\n    clear: both\n}\r\n'],sourceRoot:""}])},553:function(e,t,i){var r=i(501);"string"==typeof r&&(r=[[e.id,r,""]]);i(12)(r,{});r.locals&&(e.exports=r.locals)},608:function(e,t,i){i(553);var r=i(5)(i(259),i(630),"data-v-42dce727",null);e.exports=r.exports},630:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticStyle:{padding:"20px"}},[i("el-form",{attrs:{inline:!0,model:e.filters}},[i("el-form-item",{staticStyle:{"margin-bottom":"10px"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),i("el-tree",{attrs:{data:e.data2,props:e.defaultProps,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":e.renderContent}}),e._v(" "),i("el-dialog",{attrs:{title:e.editFormTtile,"close-on-click-modal":!1},model:{value:e.editFormVisible,callback:function(t){e.editFormVisible=t},expression:"editFormVisible"}},[i("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"80px",rules:e.editFormRules}},[i("el-form-item",{attrs:{label:"名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.name,callback:function(t){e.editForm.name=t},expression:"editForm.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否显示",prop:"display"}},[i("el-switch",{attrs:{"on-color":"#13ce66","off-color":"#ff4949","on-value":"1","off-value":"2"},model:{value:e.editForm.display,callback:function(t){e.editForm.display=t},expression:"editForm.display"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否启用",prop:"status"}},[i("el-switch",{attrs:{"on-color":"#13ce66","off-color":"#ff4949","on-value":"1","off-value":"2"},model:{value:e.editForm.status,callback:function(t){e.editForm.status=t},expression:"editForm.status"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"模块",prop:"module"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.module,callback:function(t){e.editForm.module=t},expression:"editForm.module"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"控制器",prop:"controller"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.controller,callback:function(t){e.editForm.controller=t},expression:"editForm.controller"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"动作",prop:"action"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.action,callback:function(t){e.editForm.action=t},expression:"editForm.action"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"页面组件",prop:"formation"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.formation,callback:function(t){e.editForm.formation=t},expression:"editForm.formation"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"页面地址",prop:"url"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.url,callback:function(t){e.editForm.url=t},expression:"editForm.url"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"排序",prop:"displayorder"}},[i("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editForm.displayorder,callback:function(t){e.editForm.displayorder=t},expression:"editForm.displayorder"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"level",prop:"level"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.editForm.level,callback:function(t){e.editForm.level=t},expression:"editForm.level"}},[i("el-option",{attrs:{label:"模块",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"动作",value:"2"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{nativeOn:{click:function(t){e.editFormVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary",loading:e.editLoading},nativeOn:{click:function(t){e.editSubmit(t)}}},[e._v(e._s(e.btnEditText))])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=24.e9d61c316adad56a135f.js.map